!function(i){var e=i("#search"),n=i(".items-line"),s={init:function(e){var a=e.toLowerCase(),t=a.length;2<t?this.getGames(a):t||this.parseGamesFromLS()},parseGamesFromLS:function(){var e=localStorage.getItem("games");e=i.parseJSON(e),n.empty(),i.map(e,function(e){var a=e.image[0],t=e.link[0];s.appendGames(a,t)})},getGames:function(e){var a=localStorage.getItem("games");a&&this.getResults(a,e)},getResults:function(e,t){e=i.parseJSON(e);var a=i.map(e,function(e){var a=e.link[0].title;return-1!==(a=a.toLowerCase()).indexOf(t)?e:null});i.isEmptyObject(a)?(n.empty(),n.append("<p>По вашему запросу ничего не найдено. Попробуйте ввести похожие по смыслу слова, чтобы получить лучший результат.</p>")):this.prepareGames(a)},prepareGames:function(e){n.empty(),i.map(e,function(e){var a=e.image[0],t=e.link[0];s.appendGames(a,t)})},appendGames:function(e,a){var t=localStorage.getItem("redirect");n.append('<div class="items-line__el"><div class="item"><a href="'+a.href+'" class="item__img"><img src="'+e.src+'" class="wp-post-image" alt="'+e.alt+'" width="364" height="265"></a><div class="item__in"><div class="item__name-game">'+a.title+'</div><div class="item__pnl"><a href="'+a.href+'" class="item__btn--demo">Демо</a>\x3c!--noindex--\x3e<a href="'+t+'" class="item__btn--play" rel="nofollow">ИГРАТЬ</a>\x3c!--/noindex--\x3e</div></div></div></div>')}};e.on("input",function(){s.init(this.value)}),e.on("keypress",function(e){if(13===e.keyCode)return!1})}(jQuery);