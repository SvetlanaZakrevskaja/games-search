!function(n){var t=n("#search"),i=n(".game-list"),s={init:function(t){var e=t.toLowerCase(),a=e.length;2<a?this.getGames(e):a||this.parseGamesFromLS()},parseGamesFromLS:function(){var t=localStorage.getItem("games");t=n.parseJSON(t),i.empty(),n.map(t,function(t){var e=t.image[0],a=t.link[0];s.appendGames(e,a)})},getGames:function(t){var e=localStorage.getItem("games");e&&this.getResults(e,t)},getResults:function(t,a){t=n.parseJSON(t);var e=n.map(t,function(t){var e=t.link[0].title;return-1!==(e=e.toLowerCase()).indexOf(a)?t:null});n.isEmptyObject(e)?(i.empty(),i.append("<p>По вашему запросу ничего не найдено. Попробуйте ввести похожие по смыслу слова, чтобы получить лучший результат.</p>")):this.prepareGames(e)},prepareGames:function(t){i.empty(),n.map(t,function(t){var e=t.image[0],a=t.link[0];s.appendGames(e,a)})},appendGames:function(t,e){i.append('<div class="tmb"><i class="sticker"></i><div class="tmb-img"><img src="'+t.src+'" alt="'+t.alt+'" width="190" height="110"><div class="tmb-action">\x3c!--noindex--\x3e<button class="btn btn-red btn-lg" data-href="/go/vulkan/"><span>Играть</span></button>\x3c!--/noindex--\x3e<br><button class="btn btn-blue btn-md" data-href="/'+e.href+'"><span>Демо</span></button></div></div><div class="tmb-title">'+e.title+"</div></div>")}};t.on("input",function(){s.init(this.value)}),t.on("keypress",function(t){if(13===t.keyCode)return!1})}(jQuery);